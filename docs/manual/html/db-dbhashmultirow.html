<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content=
"HTML Tidy for Linux/x86 (vers 1st August 2004), see www.w3.org">
<title>db_hash_multirow</title>
<meta name="GENERATOR" content=
"Modular DocBook HTML Stylesheet Version 1.79">
<link rel="HOME" title="Content Publishing Framework Manual" href=
"index.html">
<link rel="UP" title="Function reference" href="x407.html">
<link rel="PREVIOUS" title=" db_multirow " href=
"db-dbmultirow.html">
<link rel="NEXT" title=" db_send " href="db-dbsend.html">
<link rel="STYLESHEET" type="text/css" href="stylesheet.css">
<meta name="creation" content="2005-03-11T18:12:01">
</head>
<body class="REFENTRY" bgcolor="#FFFFFF" text="#000000" link=
"#0000FF" vlink="#840084" alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0"
cellpadding="0" cellspacing="0">
<tr>
<th colspan="3" align="center">Content Publishing Framework
Manual</th>
</tr>
<tr>
<td width="10%" align="left" valign="bottom"><a href=
"db-dbmultirow.html" accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom"></td>
<td width="10%" align="right" valign="bottom"><a href=
"db-dbsend.html" accesskey="N">Next</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<h1><a name="DB-DBHASHMULTIROW" id=
"DB-DBHASHMULTIROW"></a>db_hash_multirow</h1>
<div class="REFNAMEDIV"><a name="AEN465" id="AEN465"></a>
<h2>Name</h2>
db_hash_multirow &nbsp;--&nbsp; Returns a multiple-row result set
keyed by one column.</div>
<div class="REFSYNOPSISDIV"><a name="AEN468" id="AEN468"></a>
<h2>Synopsis</h2>
<pre class="SYNOPSIS">
        $hash_of_hashes = db_hash_multirow(key_column, sql, [ parameter ...]);
        
</pre></div>
<div class="REFSECT1"><a name="AEN470" id="AEN470"></a>
<h2>Description</h2>
<p>This function retrieves a multiple-row result set, much like
<a href="db-dbmultirow.html">db_multirow</a> , except that instead
of returning an array of hashes, it returns a hash of hashes. The
outer hash is keyed by the column you specify.</p>
<p>This is especially (or perhaps only) useful when working with
tables that have identifying keys (most likely the primary key),
that you wish to do quick lookups on. For instance, if your
database schema guarantees that email addresses are unique, then
you might do something like this:</p>
<pre class="SCREEN">
$r = db_hash_multirow('email', 'select email, first_name, last_name from users');

print $r['svanegmond@tinyplanet.ca']['first_name'];
</pre>
<p><tt class="REPLACEABLE"><i>key_column</i></tt> is the column
name whose data is used in the returned map as keys. That column
name must be generated by the <tt class=
"REPLACEABLE"><i>sql</i></tt> you pass in. <tt class=
"REPLACEABLE"><i>parameters</i></tt> is 0 or more parameters
corresponding to placeholders in the SQL.</p>
</div>
<div class="NAVFOOTER">
<hr align="left" width="100%">
<table summary="Footer navigation table" width="100%" border="0"
cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href=
"db-dbmultirow.html" accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="db-dbsend.html"
accesskey="N">Next</a></td>
</tr>
<tr>
<td width="33%" align="left" valign="top">db_multirow</td>
<td width="34%" align="center" valign="top"><a href="x407.html"
accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">db_send</td>
</tr>
</table>
</div>
</body>
</html>
