<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content=
"HTML Tidy for Linux/x86 (vers 1st August 2004), see www.w3.org">
<title>Users, permissions, and sessions</title>
<meta name="GENERATOR" content=
"Modular DocBook HTML Stylesheet Version 1.79">
<link rel="HOME" title="Content Publishing Framework Manual" href=
"index.html">
<link rel="PREVIOUS" title=" form_set " href="form-set.html">
<link rel="NEXT" title="CPF's data model" href="datamodel.html">
<link rel="STYLESHEET" type="text/css" href="stylesheet.css">
<meta name="creation" content="2005-03-11T18:12:01">
</head>
<body class="CHAPTER" bgcolor="#FFFFFF" text="#000000" link=
"#0000FF" vlink="#840084" alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0"
cellpadding="0" cellspacing="0">
<tr>
<th colspan="3" align="center">Content Publishing Framework
Manual</th>
</tr>
<tr>
<td width="10%" align="left" valign="bottom"><a href=
"form-set.html" accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom"></td>
<td width="10%" align="right" valign="bottom"><a href=
"datamodel.html" accesskey="N">Next</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<div class="CHAPTER">
<h1><a name="USERS" id="USERS"></a>Chapter 6. Users, permissions,
and sessions</h1>
<div class="SECTION">
<h1 class="SECTION"><a name="AEN842" id="AEN842">6.1.
Brainstorming</a></h1>
<p>I suppose that why you'd want to know about users in a
collaborative site are obvious. The cpf provides user registration
facilities: these are automatically dropped into /account/ under
your document root. The security model is that users are granted
roles from a role list. Roles are essentially a text string. Bill
has role "bulletin board administrator". This can also be used to
flag people for a negative sense: people with the "bozo" role are
not allowed to post to bulletin boards. Intimately connected with
users is the concept of session. The CPF support's PHP's built-in
session functionality through the $_SESSION global. One $_SESSION
entry you can use is $_SESSION['user_id'] -- this is the user id of
the person who is logged in. user_require() for instance,
guarantees that $_SESSION[user_id] will be set. Sessions in the CPF
expire automatically after a few hours of inactivity, and are
cleaned up periodically. users.h: function user_require($role='') {
function user_has_role($role) {</p>
</div>
</div>
<div class="NAVFOOTER">
<hr align="left" width="100%">
<table summary="Footer navigation table" width="100%" border="0"
cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="form-set.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="datamodel.html"
accesskey="N">Next</a></td>
</tr>
<tr>
<td width="33%" align="left" valign="top">form_set</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top">CPF's data model</td>
</tr>
</table>
</div>
</body>
</html>
