<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="icon" href="height="50%" favicon.ico">

    <title>Feed the front line</title>
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css" integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom styles for this template -->
    <link href="carousel.css" rel="stylesheet">
    <link href="jumbotron-narrow.css" rel="stylesheet">

    <!-- colours: #3b3d4c #484d61 #6b7397 #c2c5d4 #ffffff -->
    <!-- images https://www.pexels.com/search/health/ -->
    
  </head>

    <!-- Marketing messaging and featurettes
    <!-- Wrap the rest of the page in another container to center all the content. -->

    <div class="container">
      <div class="jumbotron">
	<img src="images/ambulance-architecture-building-business-263402.jpg" width="100%" />
        <h1>Hospital units</h1>
        <p class="lead">Thanks for everything you do for our patients.  Your community wants to support you - let them know what they can do (so long as what they can do is feed you)</p>
      </div>

      <div class="row marketing">
        <div class="col-lg-6">
          <h4>Instructions</h4>
          <p>Okay, here's what we need from you:</p>
	  <p>Your hospital and unit, how many people you're looking to feed, and any instructions you want to give.  If you have any other requests, there's space for that too.</p>

          <h4>Example</h4>
	  <ul>
            <li>Cityville General Hospital</li>
	    <li>critical care unit</li>
	    <li>Cityville, Ontario</li>
	    <li>go around the back for delivery, tell security who you are, and ask them to let you deliver to the purple nurse's station</li>
	    <li>we prefer gluten free, sugar free, vegan, keto, raw food.</li>
	  </ul>
        </div>

	
        <div class="col-lg-6">
          <h4>Add your unit</h4>
	  <ul>
            <li><select>
		<option>Cityville general hospital</option>
		<option>Greater Niagara General Hospital</option>
		<option>Sunnybrook</option>
		<option>McMaster Children's Hospital</option>
	      </select>
	    </li>
	    <li><select>
		<option>critical care unit</option>
		<option>emergency department</option>
	      </select>
	    </li>
	    <li><input value="Cityville, Ontario" /></li>
	    <li><textarea cols=40 rows=10>go around the back for delivery, tell security who you are, and ask them to let you deliver to the purple nurse's station</textarea></li>
	    <li><textarea cols=40 rows=10>we prefer gluten free, sugar free, vegan, keto, raw food.</textarea></li>
	  </ul>

	  <p>This is where the good stuff is</p>
	  
	  <!--Add buttons to initiate auth sequence and sign out-->
	  <button id="authorize_button" style="display: none;">Authorize</button>
	  <button id="signout_button" style="display: none;">Sign Out</button>

	  <pre id="content" style="white-space: pre-wrap;"></pre>

	  <script type="text/javascript">
	    // Client ID and API key from the Developer Console
	    var CLIENT_ID = '301449656559-d50b883s5i566d0ghsg7ltk28h0e3s72.apps.googleusercontent.com';
	    var API_KEY = 'AIzaSyCRlQslp-u006sPcV33B32h4-HJ1GUxGTs';

	    // Array of API discovery doc URLs for APIs used by the quickstart
	    var DISCOVERY_DOCS = ["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];

	    // Authorization scopes required by the API; multiple scopes can be
	    // included, separated by spaces.
	    //var SCOPES = "https://www.googleapis.com/auth/calendar.readonly";
	    var SCOPES = "https://www.googleapis.com/auth/calendar";

	    var authorizeButton = document.getElementById('authorize_button');
	    var signoutButton = document.getElementById('signout_button');

	    /**
	      *  On load, called to load the auth2 library and API client library.
	      */
	    function handleClientLoad() {
              gapi.load('client:auth2', initClient);
	    }

	    /**
              *  Initializes the API client library and sets up sign-in state
              *  listeners.
              */
	    function initClient() {
                gapi.client.init({
                    apiKey: API_KEY,
                    clientId: CLIENT_ID,
                    discoveryDocs: DISCOVERY_DOCS,
                    scope: SCOPES
                }).then(function () {
                    // Listen for sign-in state changes.
                    gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);

                    // Handle the initial sign-in state.
                    updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());
                    authorizeButton.onclick = handleAuthClick;
                    signoutButton.onclick = handleSignoutClick;
                }, function(error) {
                    appendPre(JSON.stringify(error, null, 2));
                });
	    }

	    /**
              *  Called when the signed in status changes, to update the UI
              *  appropriately. After a sign-in, the API is called.
              */
	    function updateSigninStatus(isSignedIn) {
                if (isSignedIn) {
                    authorizeButton.style.display = 'none';
                    signoutButton.style.display = 'block';
                    listUpcomingEvents();
                } else {
                    authorizeButton.style.display = 'block';
                    signoutButton.style.display = 'none';
                }
	    }

	    /**
              *  Sign in the user upon button click.
              */
	    function handleAuthClick(event) {
                gapi.auth2.getAuthInstance().signIn();
	    }

	    /**
              *  Sign out the user upon button click.
              */
	    function handleSignoutClick(event) {
                gapi.auth2.getAuthInstance().signOut();
	    }

	    /**
              * Append a pre element to the body containing the given message
              * as its text node. Used to display the results of the API call.
              *
              * @param {string} message Text to be placed in pre element.
              */
            function appendPre(message) {
                var pre = document.getElementById('content');
                var textContent = document.createTextNode(message + '\n');
                pre.appendChild(textContent);
	    }

            /**
              * Print the summary and start datetime/date of the next ten events in
              * the authorized user's calendar. If no events are found an
              * appropriate message is printed.
              */
            function listUpcomingEvents() {
                gapi.client.calendar.events.list({
                    'calendarId': 'primary',
                    'timeMin': (new Date()).toISOString(),
                    'showDeleted': false,
                    'singleEvents': true,
                    'maxResults': 10,
                    'orderBy': 'startTime'
                }).then(function(response) {
                    var events = response.result.items;
                    appendPre('Upcoming events:');

                    if (events.length > 0) {
                        for (i = 0; i < events.length; i++) {
                            var event = events[i];
                            var when = event.start.dateTime;
                            if (!when) {
                                 when = event.start.date;
                            }
                            appendPre(event.summary + ' (' + when + ')')
                        }
                    } else {
                         appendPre('No upcoming events found.');
                    }
                });
            }

	  </script>

          <script async defer src="https://apis.google.com/js/api.js"
              onload="this.onload=function(){};handleClientLoad()"
              onreadystatechange="if (this.readyState === 'complete') this.onload()">
          </script>
	  
        </div>
      </div>



      <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>Feedthefrontline is brought to you by a few well-meaning do-gooders.  Thanks to <a href="https://www.pexels.com/search/health/">Pexels</a> for free stock images.  Good luck and stay safe.</p>
      </footer>

    </div>

    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
